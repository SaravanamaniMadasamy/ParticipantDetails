<div class="dashboard-container">
  <!-- Header -->
  <div class="dashboard-header">
    <h1><mat-icon>dashboard</mat-icon> Training Dashboard</h1>
    <p>Overview of participant progress and skills analytics</p>
  </div>

  <!-- Stats Cards -->
  <div class="stats-grid">
    <mat-card class="stat-card">
      <mat-card-content>
        <div class="stat-content">
          <mat-icon color="primary" class="stat-icon">group</mat-icon>
          <div class="stat-info">
            <h2>{{ participantCount }}</h2>
            <p>Total Participants</p>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="stat-card">
      <mat-card-content>
        <div class="stat-content">
          <mat-icon color="accent" class="stat-icon">assignment_turned_in</mat-icon>
          <div class="stat-info">
            <h2>{{ totalSkillsRated }}</h2>
            <p>Complete Profiles</p>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="stat-card">
      <mat-card-content>
        <div class="stat-content">
          <mat-icon color="primary" class="stat-icon">trending_up</mat-icon>
          <div class="stat-info">
            <h2>{{ averageAngularSkill }}/10</h2>
            <p>Avg Angular Skill</p>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="stat-card">
      <mat-card-content>
        <div class="stat-content">
          <mat-icon color="accent" class="stat-icon">code</mat-icon>
          <div class="stat-info">
            <h2>{{ averagePythonSkill }}/10</h2>
            <p>Avg Python Skill</p>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <!-- Skills Analysis Section -->
  <div class="skills-analysis">
    <mat-card class="analysis-card">
      <mat-card-header>
        <mat-card-title>
          <mat-icon>analytics</mat-icon>
          Technical Skills Overview
        </mat-card-title>
        <mat-card-subtitle>Average skill levels and progress indicators</mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <div class="skills-grid">
          <div class="skill-item" *ngFor="let skill of ['angular', 'python', 'css', 'html', 'mysql']">
            <div class="skill-header">
              <span class="skill-name">{{ skill | titlecase }}</span>
              <span class="skill-value">{{ getSkillAnalysis(skill).average }}/10</span>
            </div>
            <mat-progress-bar 
              mode="determinate" 
              [value]="getProgressPercentage(skill)"
              [color]="'primary'">
            </mat-progress-bar>
          </div>
        </div>
      </mat-card-content>
    </mat-card>

    <!-- Participant Details -->
    <mat-card class="details-card" *ngIf="participantCount > 0">
      <mat-card-header>
        <mat-card-title>
          <mat-icon>people</mat-icon>
          Participant Summary
        </mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <div class="summary-grid">
          <div class="summary-item">
            <mat-icon color="primary">person</mat-icon>
            <div>
              <strong>{{ participantCount }}</strong>
              <span>Total Registered</span>
            </div>
          </div>
          
          <div class="summary-item">
            <mat-icon color="accent">check_circle</mat-icon>
            <div>
              <strong>{{ totalSkillsRated }}</strong>
              <span>Skills Completed</span>
            </div>
          </div>
          
          <div class="summary-item">
            <mat-icon color="warn">pending</mat-icon>
            <div>
              <strong>{{ participantCount - totalSkillsRated }}</strong>
              <span>Pending Completion</span>
            </div>
          </div>
        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <!-- No Data State -->
  <div class="no-data" *ngIf="participantCount === 0">
    <mat-card>
      <mat-card-content>
        <div class="no-data-content">
          <mat-icon class="no-data-icon">person_add</mat-icon>
          <h2>No Participants Yet</h2>
          <p>Start by adding participant details to see analytics and insights.</p>
          <button mat-raised-button color="primary" routerLink="/participants">
            <mat-icon>add</mat-icon>
            Add Participant
          </button>
        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <!-- Action Buttons -->
  <div class="dashboard-actions" *ngIf="participantCount > 0">
    <button mat-raised-button color="primary" (click)="refreshData()">
      <mat-icon>refresh</mat-icon>
      Refresh Data
    </button>
  </div>
</div>
